[gd_scene load_steps=10 format=3 uid="uid://dk0pp5g6t740n"]

[ext_resource type="Script" path="res://LlmScript2.cs" id="1_x83fi"]
[ext_resource type="Resource" uid="uid://cvj17q0xtusib" path="res://Art/Judy/PS_Judge.tres" id="2_8ugbh"]
[ext_resource type="PackedScene" uid="uid://cpi4mfj8m8x15" path="res://UI/Scenes/CharacterBox.tscn" id="2_50ek7"]
[ext_resource type="Resource" uid="uid://d3igdi1ikyclv" path="res://Art/Judy/PS_Judy.tres" id="2_siqpk"]
[ext_resource type="Texture2D" uid="uid://cu8p7haj6bqlf" path="res://Art/Backdrops/courtroom-1.png" id="3_o353x"]
[ext_resource type="Script" path="res://LLM/Scripts/LlmScenario.cs" id="3_qa0u4"]
[ext_resource type="Resource" uid="uid://brcf15xook2sp" path="res://Art/Judy/PS_Player.tres" id="4_4b3d5"]
[ext_resource type="PackedScene" uid="uid://cms8b2jgsvhbx" path="res://UI/Scenes/PlayerTextBox.tscn" id="5_7fxpd"]

[sub_resource type="Resource" id="Resource_ixu7o"]
script = ExtResource("3_qa0u4")
GeneralInfo = "Lexmark International, Incorporated (Lexmark) (plaintiff) manufactured inkjet and laser printers and complementary toner cartridges. Lexmark’s toner cartridges contained a small microchip with a simple computer program, the Toner Loading Program (TLP). TLP measured the remaining toner in the cartridge and conveyed relevant information to the printer. TLP also provided information to the printer to authenticate use of the cartridge. Lexmark’s printers contained a more complex computer program, called the Printer Engine Program (PEP). PEP directed the printer to complete its various functions, like feeding paper. Neither program was encrypted. Lexmark sold toner cartridges for its laser printers at two price levels. Lexmark’s Prebate cartridges required consumers to agree to return cartridges to Lexmark after use in return for a discounted price at the time of sale. Non-Prebate cartridges were sold at full price, but could be refilled and reused by the consumers rather than returning the cartridges to Lexmark. The authentication procedure built into the printer ensured that Prebate toner cartridges were not reused by consumers. Static Control Components, Incorporated (SCC) (defendant) manufactured microchips for use on toner cartridges. One of the microchips SCC manufactured, the SMARTEK chip, was designed to bypass Lexmark’s authentication program and allow consumers or third-party manufacturers to replace the microchip on used Prebate cartridges. By replacing the microchip, the cartridges could be purchased at Lexmark’s discount price and then resold at a discount off Lexmark’s prices. The SMARTEK chip contained an exact copy of the Toner Loading Program to enable the cartridge to operate with Lexmark’s printers. Lexmark sued SCC for violating 17 U.S.C. § 106 by selling a technology intended to circumvent Lexmark’s access-control mechanism for operating its printers.
"
Characters = Array[Object]([ExtResource("2_8ugbh"), ExtResource("2_siqpk"), ExtResource("4_4b3d5")])
InitialEvidences = null

[node name="Node2D" type="Node2D"]

[node name="LlmManager" type="Node2D" parent="."]
unique_name_in_owner = true
script = ExtResource("1_x83fi")
SystemPrompt = "You are the director of an educational video game about court cases. You respond in a specific grammar that is interpreted by a video game frontend. Your actions affect the course of the game.
Here is the grammar that you should follow when the video game frontend asks for an event: {grammar}
Do not output anything else but the grammar.
You need to follow the instructions very closely. Do only what you're told. Do not include previous lines or events in the current events.
Do not reference any other characters other than the ones provided below, and only reference them by their Codename!

As a general law, the player should be given many opportunities to present their point of view, even if their intervention doesn't follow the usual court procedures.

Characters must keep in character at all times. Do not attempt to correct a player misunderstanding.

The same characte may have multiple CharacterReply's in a row. That's not an issue and is actually encouraged.

Output only one line per character reply!

Here is an example of a propery CharacterReply:

Codename: PlaintiffLawyer
LookingAtCodename: Judge
Emotion: neutral
Line: Your Honor, I believe we must address the anti-circumvention aspects of the lawsuit first.
$[END]"
Scenario = SubResource("Resource_ixu7o")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="TextureRect" type="TextureRect" parent="CanvasLayer"]
z_index = -1000
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_default_cursor_shape = 13
texture = ExtResource("3_o353x")
expand_mode = 3

[node name="CharacterBox" parent="CanvasLayer" instance=ExtResource("2_50ek7")]
unique_name_in_owner = true
mouse_default_cursor_shape = 6

[node name="PlayerTextBox" parent="CanvasLayer" instance=ExtResource("5_7fxpd")]
z_index = 2
anchors_preset = -1
anchor_top = 0.926852
metadata/_edit_use_anchors_ = true

[node name="AdvanceButton" type="Button" parent="CanvasLayer"]
z_index = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 805.0
offset_top = 453.0
offset_right = -805.0
offset_bottom = -453.0
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 81
text = "Next"

[connection signal="pressed" from="CanvasLayer/AdvanceButton" to="LlmManager" method="NewReply"]
